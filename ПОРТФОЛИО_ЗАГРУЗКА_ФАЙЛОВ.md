# üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞–ø—Ä—è–º—É—é** –≤–º–µ—Å—Ç–æ –≤—Å—Ç–∞–≤–∫–∏ —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π.

---

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. **API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤**
üìÅ `src/app/api/upload/portfolio/route.ts`

–ù–æ–≤—ã–π endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- **POST** `/api/upload/portfolio`
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `multipart/form-data` —Å —Ñ–∞–π–ª–æ–º
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø —Ñ–∞–π–ª–∞ (JPG, PNG, GIF, WEBP)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä (–º–∞–∫—Å–∏–º—É–º 5MB)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –≤ `public/uploads/portfolio/`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
const formData = new FormData()
formData.append('file', fileObject)

const res = await fetch('/api/upload/portfolio', {
  method: 'POST',
  body: formData,
})

const data = await res.json()
// { success: true, url: "/uploads/portfolio/userId_timestamp_random.jpg", filename: "..." }
```

---

### 2. **–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ**
üìÅ `src/app/portfolio/page.tsx`

#### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞** –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è URL
- ‚úÖ **–ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (–∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π X)
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏** –Ω–∞ –∫–Ω–æ–ø–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞** –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

#### UI –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```tsx
// –ë—ã–ª–æ:
<input
  type="url"
  placeholder="https://example.com/image.jpg"
  value={formData.imageUrl}
  onChange={...}
/>

// –°—Ç–∞–ª–æ:
<label className="cursor-pointer">
  <div className="bg-gray-900/50 border border-emerald-500/30 ...">
    <Plus className="w-4 h-4" />
    <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</span>
  </div>
  <input
    type="file"
    accept="image/*"
    onChange={handleImageChange}
    className="hidden"
  />
</label>

{imagePreview && (
  <div className="relative">
    <img src={imagePreview} alt="Preview" className="..." />
    <button onClick={removeImage}>
      <X className="w-4 h-4" />
    </button>
  </div>
)}
```

---

### 3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤**
```
public/
  ‚îî‚îÄ‚îÄ uploads/
      ‚îî‚îÄ‚îÄ portfolio/
          ‚îú‚îÄ‚îÄ .gitkeep                        # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–∞–ø–∫—É –≤ Git
          ‚îú‚îÄ‚îÄ userId_timestamp_random.jpg     # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
          ‚îî‚îÄ‚îÄ ...
```

**–§–∞–π–ª—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Git:**
- –í `.gitignore` –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ `/public/uploads/**/*`
- –ö—Ä–æ–º–µ `.gitkeep` —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω
2. **–¢–∏–ø —Ñ–∞–π–ª–∞**: –¢–æ–ª—å–∫–æ `image/jpeg`, `image/jpg`, `image/png`, `image/gif`, `image/webp`
3. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: –ú–∞–∫—Å–∏–º—É–º 5MB
4. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞**: `{userId}_{timestamp}_{random}.{ext}` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:
1. HTML –∞—Ç—Ä–∏–±—É—Ç `accept="image/*"` - –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä –≤ –¥–∏–∞–ª–æ–≥–µ
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
3. –ü—Ä–µ–≤—å—é —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

## üé® –î–∏–∑–∞–π–Ω

–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç —Å—Ç–∏–ª—é NESI:
- **–¶–≤–µ—Ç–∞**: `emerald-500`, `emerald-400`, `emerald-300`
- **–§–æ–Ω**: `bg-black/40`, `bg-gray-900/50`
- **–ì—Ä–∞–Ω–∏—Ü—ã**: `border-emerald-500/30`
- **–¢–µ–Ω–∏**: `shadow-[0_0_15px_rgba(16,185,129,0.2)]`
- **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã**: `hover:border-emerald-500`, `hover:bg-emerald-500/10`

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É **–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ** (`/portfolio`)
2. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
4. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"**
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPG, PNG, GIF, WEBP, –¥–æ 5MB)
6. –£–≤–∏–¥–∏—Ç–µ –ø—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
7. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ"**
8. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
```typescript
// 1. –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞
const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  const file = e.target.files?.[0]
  if (file) {
    setImageFile(file)
    // –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–≤—å—é
    const reader = new FileReader()
    reader.onloadend = () => setImagePreview(reader.result as string)
    reader.readAsDataURL(file)
  }
}

// 2. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
const uploadImage = async () => {
  const formData = new FormData()
  formData.append('file', imageFile)
  
  const res = await fetch('/api/upload/portfolio', {
    method: 'POST',
    body: formData,
  })
  
  const data = await res.json()
  return data.url // "/uploads/portfolio/userId_123_abc.jpg"
}

// 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
const handleSubmit = async () => {
  const imageUrl = await uploadImage()
  
  await fetch('/api/portfolio', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ title, description, imageUrl }),
  })
}
```

---

## üöÄ –î–µ–ø–ª–æ–π

### Production —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN** (Cloudinary, AWS S3, Vercel Blob) –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
2. **–î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (Next.js Image Optimization API)
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤** (cron job)
4. **–î–æ–±–∞–≤–∏—Ç—å rate limiting** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞

### –î–ª—è —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `public/uploads/portfolio/`
- –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Vercel/Netlify –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `UPLOAD_PROVIDER` –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ `/portfolio`
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–≤—å—é
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
7. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –ø–æ—è–≤–∏–ª—Å—è –≤ `public/uploads/portfolio/`

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç **–ª–µ–≥–∫–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** —Å–≤–æ–∏—Ö —Ä–∞–±–æ—Ç –ø—Ä—è–º–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É NESI –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏!

**–£–ª—É—á—à–µ–Ω–Ω—ã–π UX** ‚ú®  
**–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** üîí  
**–ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω** üé®


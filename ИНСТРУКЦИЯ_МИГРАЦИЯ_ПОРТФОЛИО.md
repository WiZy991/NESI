# Инструкция по применению миграции для портфолио

## Проблема
В базе данных отсутствует поле `mediaType` в таблице `Portfolio`, что вызывает ошибки 500.

## Решение

### Вариант 1: Через SQL (Рекомендуется)

Подключитесь к вашей базе данных PostgreSQL и выполните:

```sql
ALTER TABLE "Portfolio" 
ADD COLUMN IF NOT EXISTS "mediaType" TEXT DEFAULT 'image';

UPDATE "Portfolio" 
SET "mediaType" = 'image' 
WHERE "mediaType" IS NULL;
```

### Вариант 2: Через Prisma Studio

1. Откройте Prisma Studio:
   ```bash
   npx prisma studio
   ```

2. Перейдите в таблицу `Portfolio`
3. Вручную добавьте поле `mediaType` со значением `'image'` для всех записей

### Вариант 3: Через psql (если у вас есть прямой доступ)

```bash
psql "postgresql://postgres:KQbhHdtzMPMHelNhyYUvkleFPKUbWZrs@hopper.proxy.rlwy.net:53910/railway" -c "ALTER TABLE \"Portfolio\" ADD COLUMN IF NOT EXISTS \"mediaType\" TEXT DEFAULT 'image';"
```

## Проверка

После применения миграции ошибки 500 должны исчезнуть. Код теперь автоматически обрабатывает отсутствие поля, но лучше применить миграцию для правильной работы.


<<<<<<< HEAD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    Ð¨ÐŸÐÐ Ð“ÐÐ›ÐšÐ: Ð¢-Ð‘Ð°Ð½Ðº ÐœÑƒÐ»ÑŒÑ‚Ð¸Ñ€Ð°ÑÑ‡ÐµÑ‚Ñ‹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“Œ ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ«:
  âŒ ÐžÑˆÐ¸Ð±ÐºÐ° 500 Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ Ð±Ð°Ð»Ð°Ð½ÑÐ°
  âŒ ÐžÑˆÐ¸Ð±ÐºÐ° "ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ DealId" Ð¿Ñ€Ð¸ Ð²Ñ‹Ð²Ð¾Ð´Ðµ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… Ð Ð•Ð¨Ð•ÐÐ˜Ð• (3 ÐšÐžÐœÐÐÐ”Ð«):

1ï¸âƒ£ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ .ENV
   nano .env
   
   Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ:
   TBANK_TERMINAL_KEY="Ð²Ð°Ñˆ_ÐºÐ»ÑŽÑ‡"
   TBANK_PASSWORD="Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"
   NEXT_PUBLIC_APP_URL="https://nesi.su"
   
   Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ: Ctrl+O, Enter, Ctrl+X

2ï¸âƒ£ ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð¯ Ð‘Ð”
   cd NESI
   npx prisma migrate deploy

3ï¸âƒ£ ÐŸÐ•Ð Ð•Ð—ÐÐŸÐ£Ð¡Ðš
   pm2 restart all --update-env

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ” ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ:

âœ“ ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ:     grep TBANK .env
âœ“ Ð‘Ð”:             psql $DATABASE_URL -c "SELECT column_name FROM information_schema.columns WHERE table_name = 'Transaction' AND column_name = 'dealId';"
âœ“ Ð’ÐµÐ±Ñ…ÑƒÐº:         curl https://nesi.su/api/wallet/tbank/webhook
âœ“ ÐÐ²Ñ‚Ð¾Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°:   node scripts/check-tbank-setup.js

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸŒ Ð’Ð•Ð‘Ð¥Ð£Ðš Ð’ Ð¢-Ð‘ÐÐÐšÐ• (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž!):

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ: https://business.tbank.ru/
2. Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐºÐ²Ð°Ð¹Ñ€Ð¸Ð½Ð³ â†’ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð° â†’ Ð’ÐµÐ±Ñ…ÑƒÐºÐ¸
3. URL: https://nesi.su/api/wallet/tbank/webhook
4. ÐœÐµÑ‚Ð¾Ð´: POST, Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚: JSON
5. Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: ÐÐºÑ‚Ð¸Ð²ÐµÐ½ âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ§ª Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð•:

1. ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð±Ð°Ð»Ð°Ð½Ñ: https://nesi.su/wallet
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸:   pm2 logs | grep "dealId"
3. Ð’Ñ‹Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð°: https://nesi.su/wallet

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ“š Ð”ÐžÐšÐ£ÐœÐ•ÐÐ¢ÐÐ¦Ð˜Ð¯:

ðŸ“„ ÐÐÐ§ÐÐ˜_Ð—Ð”Ð•Ð¡Ð¬_Ð¢Ð‘ÐÐÐš.md              â† ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¾Ñ‚ÑÑŽÐ´Ð°!
ðŸ“„ Ð‘Ð«Ð¡Ð¢Ð ÐžÐ•_Ð Ð•Ð¨Ð•ÐÐ˜Ð•_ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ«.md       â† 5 Ð¼Ð¸Ð½ÑƒÑ‚
ðŸ“„ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ_Ð¢Ð‘ÐÐÐš_ÐŸÐžÐ›ÐÐÐ¯.md         â† ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾
ðŸ“„ ÐšÐžÐœÐÐÐ”Ð«_Ð”Ð›Ð¯_Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯.md        â† ÐšÐ¾Ð¿Ð¸Ð¿Ð°ÑÑ‚Ð°
ðŸ“„ README_Ð¢Ð‘ÐÐÐš_Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯.md       â† ÐžÐ±Ñ‰Ð°Ñ ÑÐ²Ð¾Ð´ÐºÐ°

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ†˜ ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ«?

ÐžÑˆÐ¸Ð±ÐºÐ° 500:
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ .env
  â†’ pm2 restart all --update-env

DealId Ð½Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ:
  â†’ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð²ÐµÐ±Ñ…ÑƒÐº Ð² Ð¢-Ð‘Ð°Ð½ÐºÐµ
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ: curl https://nesi.su/api/wallet/tbank/webhook

Ð›Ð¾Ð³Ð¸:
  â†’ pm2 logs | grep -E "WEBHOOK|TBANK|dealId"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ“ž ÐŸÐžÐ”Ð”Ð•Ð Ð–ÐšÐ:

Ð¢-Ð‘Ð°Ð½Ðº: acq_help@tbank.ru
Ð’Ð¾Ð¿Ñ€Ð¾Ñ: "ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð½Ðµ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ SpAccumulationId Ð² Ð²ÐµÐ±Ñ…ÑƒÐºÐµ?"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â±ï¸ Ð’Ð Ð•ÐœÐ¯: 5-10 Ð¼Ð¸Ð½ÑƒÑ‚
ðŸ“… Ð”ÐÐ¢Ð: 19.11.2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
=======
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Ð¨ÐŸÐÐ Ð“ÐÐ›ÐšÐ: Ð¢-Ð‘Ð°Ð½Ðº ÐœÑƒÐ»ÑŒÑ‚Ð¸Ñ€Ð°ÑÑ‡ÐµÑ‚Ñ‹                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“‹ Ð‘Ð«Ð¡Ð¢Ð Ð«Ð• ÐšÐžÐœÐÐÐ”Ð«

ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ:
  cd NESI && npx prisma migrate dev && npx prisma generate

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:
  npx ts-node scripts/check-tbank-config.ts

Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚:
  npm run dev

ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Prisma Studio:
  npx prisma studio

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ”‘ ÐŸÐ•Ð Ð•ÐœÐ•ÐÐÐ«Ð• ÐžÐšÐ Ð£Ð–Ð•ÐÐ˜Ð¯ (.env)

TBANK_TERMINAL_KEY="TinkoffBankTest"
TBANK_TERMINAL_PASSWORD="Ð¿Ð°Ñ€Ð¾Ð»ÑŒ_Ð¾Ñ‚_Ñ‚Ð±Ð°Ð½ÐºÐ°"
TBANK_E2C_TERMINAL_KEY="TerminalKeyE2C"
TBANK_E2C_TERMINAL_PASSWORD="Ð¿Ð°Ñ€Ð¾Ð»ÑŒ_e2c"
TBANK_MODE="test"
NEXT_PUBLIC_BASE_URL="https://nesi.su"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸŒ API ENDPOINTS

Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ´ÐµÐ»ÐºÑƒ:
  POST /api/tbank/deals/create

Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ´ÐµÐ»Ð¾Ðº:
  GET /api/tbank/deals/list

ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ:
  POST /api/tbank/deposit/init
  Body: { amount: 1000, phone: "+79001234567" }

Ð’Ñ‹Ð²ÐµÑÑ‚Ð¸ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð°:
  POST /api/tbank/withdraw/init
  Body: { amount: 500, phone: "+79001234567" }
  
  POST /api/tbank/withdraw/execute
  Body: { paymentId: "123456" }

Webhook:
  POST /api/tbank/webhook

Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸:
  GET /api/tbank/status

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ§ª Ð¢Ð•Ð¡Ð¢ÐžÐ’Ð«Ð• Ð”ÐÐÐÐ«Ð•

ÐšÐ°Ñ€Ñ‚Ð° Ð´Ð»Ñ Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:
  PAN: 2200770239097761
  ExpDate: 12/25
  CVV: 123

Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° (Ð¡Ð‘ÐŸ):
  +79066589133
  SbpMemberId: 100000000004

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ“ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ WEBHOOK

1. ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸: https://business.tbank.ru
2. Ð¢ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» â†’ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ â†’ Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
3. Notification URL: https://nesi.su/api/tbank/webhook
4. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð¾Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸: CONFIRMED, AUTHORIZED, REVERSED

ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ URL:
  Production: https://nesi.su/api/tbank/webhook
  
  Ð”Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾):
  1. ngrok http 3000
  2. Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ URL Ð¾Ñ‚ ngrok

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ” ÐžÐ¢Ð›ÐÐ”ÐšÐ

Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸:
  npm run dev
  Ð˜Ñ‰Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸: "TBank API Request", "TBank Webhook"

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð‘Ð”:
  SELECT * FROM "TBankDeal" ORDER BY "createdAt" DESC LIMIT 5;
  SELECT * FROM "TBankPayment" ORDER BY "createdAt" DESC;
  SELECT * FROM "TBankPayout" ORDER BY "createdAt" DESC;

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸  Ð§ÐÐ¡Ð¢Ð«Ð• ÐžÐ¨Ð˜Ð‘ÐšÐ˜

"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½" (ErrorCode: 204)
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ TBANK_TERMINAL_PASSWORD Ð² .env

"Ð¡Ð´ÐµÐ»ÐºÐ° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°" (ErrorCode: 927)
  â†’ Ð¡Ð¾Ð·Ð´Ð°Ð¹ ÑÐ´ÐµÐ»ÐºÑƒ Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð¾Ð¼

"ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²"
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ Ð¸ frozenBalance

Webhook Ð½Ðµ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚:
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Notification URL
  â†’ Ð”Ð»Ñ localhost Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ngrok
  â†’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ IP whitelist

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸŽ¯ WORKFLOW

ÐŸÐžÐŸÐžÐ›ÐÐ•ÐÐ˜Ð• (ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð¾):
  ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ ÑÑƒÐ¼Ð¼Ñƒ
    â†’ POST /api/tbank/deposit/init
    â†’ Ð ÐµÐ´Ð¸Ñ€ÐµÐºÑ‚ Ð½Ð° Ñ„Ð¾Ñ€Ð¼Ñƒ Ð¢-Ð‘Ð°Ð½ÐºÐ°
    â†’ ÐžÐ¿Ð»Ð°Ñ‚Ð° ÐºÐ°Ñ€Ñ‚Ð¾Ð¹
    â†’ Webhook â†’ Ð±Ð°Ð»Ð°Ð½Ñ +ðŸ’°

Ð’Ð«Ð’ÐžÐ” (ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð¾):
  ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ ÑÑƒÐ¼Ð¼Ñƒ Ð¸ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½
    â†’ POST /api/tbank/withdraw/init (ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð° Ð·Ð°Ð¼Ð¾Ñ€Ð°Ð¶Ð¸Ð²Ð°ÑŽÑ‚ÑÑ)
    â†’ POST /api/tbank/withdraw/execute (Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ð° Ð½Ð° Ð¡Ð‘ÐŸ)
    â†’ Webhook â†’ Ð±Ð°Ð»Ð°Ð½Ñ -ðŸ’°, ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð° Ñ€Ð°Ð·Ð¼Ð¾Ñ€Ð°Ð¶Ð¸Ð²Ð°ÑŽÑ‚ÑÑ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ“– Ð”ÐžÐšÐ£ÐœÐ•ÐÐ¢Ð«

â­ ÐÐÐ§ÐÐ˜_Ð—Ð”Ð•Ð¡Ð¬_Ð¢Ð‘ÐÐÐš.md - ÑÑ‚Ð°Ñ€Ñ‚ Ð·Ð° 5 Ð¼Ð¸Ð½ÑƒÑ‚
ðŸ“˜ APPLY_TBANK_INTEGRATION.md - Ð¿Ð¾ÑˆÐ°Ð³Ð¾Ð²Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ
ðŸ“— TBANK_QUICK_START.md - Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚
ðŸ“• TBANK_MULTISPLIT_INTEGRATION.md - Ð¿Ð¾Ð»Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
ðŸ“™ Ð Ð•Ð—Ð®ÐœÐ•_Ð¢Ð‘ÐÐÐš_Ð˜ÐÐ¢Ð•Ð“Ð ÐÐ¦Ð˜Ð¯.md - ÑÑ‚Ð¾ Ñ€ÐµÐ·ÑŽÐ¼Ðµ
ðŸ“” Ð¢Ð‘ÐÐÐš_Ð¡ÐžÐ—Ð”ÐÐÐÐ«Ð•_Ð¤ÐÐ™Ð›Ð«.md - ÑÐ¿Ð¸ÑÐ¾Ðº Ñ„Ð°Ð¹Ð»Ð¾Ð²

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ðŸ†˜ ÐŸÐžÐ”Ð”Ð•Ð Ð–ÐšÐ

Ð¢-Ð‘Ð°Ð½Ðº:
  ðŸ“§ acq_help@tbank.ru
  ðŸŒ developer.tbank.ru
  ðŸ’¼ business.tbank.ru

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… Ð“ÐžÐ¢ÐžÐ’Ðž! ÐœÐžÐ–ÐÐž Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð¬!

Ð”Ð¸Ð·Ð°Ð¹Ð½: âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ
Ð¢-Ð‘Ð°Ð½Ðº: â³ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ (20 Ð¼Ð¸Ð½)

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
>>>>>>> 8500b26eb6ac8f59cfd0fcfdccb818e3b53a8d8e

